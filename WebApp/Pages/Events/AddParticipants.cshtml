@page
@model WebApp.Pages.Events.AddParticipants
@{
    ViewData["Title"] = "Edit";
}

<!DOCTYPE html>

<html>
<head>
    <title></title>
</head>
<body>
<div >
    <div>
        @{
            if (Model.Event != null)
            {
                <p>Nimi: @Model.Event.Name</p>
                <p>Koht: @Model.Event.Place</p>
                if (Model.Event.EventParticipants != null)
                {
                    <h2>Osalejad</h2>
                    foreach (var participant in Model.Event.EventParticipants!)
                    {
                        <p>@participant.FirstName @participant.LastName</p>
                    }    
                }
                
            }}
            
    </div>
    <form method="post">
        <div class="row">
            <div class="col-1">
                <p>Eraklient</p>
                <input type="radio" id="citizenCheckbox" checked name="formFilter"></input>
            </div>
            <div class="col-2">
                <p>Juriidiline isik</p>
                <input type="radio" id="corporationCheckbox" name="formFilter"></input>        
            </div>
            
        </div>
        <div id="formContainer" class="col-4">
        <div id="citizenForm">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Participant.FirstName" class="control-label"></label>
                <input asp-for="Participant.FirstName" class="form-control"/>
                <span asp-validation-for="Participant.FirstName" class="text-danger"></span>
            </div>
            
            <div class="form-group">
                <label asp-for="Participant.LastName" class="control-label"></label>
                <input asp-for="Participant.LastName" class="form-control"/>
                <span asp-validation-for="Participant.LastName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Participant.SocialsecurityNumber" class="control-label"></label>
                <input asp-for="Participant.SocialsecurityNumber" class="form-control"/>
                <span asp-validation-for="Participant.SocialsecurityNumber" class="text-danger"></span>
            </div>
        </div>
        <div id="corporationForm">
            <div class="form-group">
                <label asp-for="Participant.CorporationCode" class="control-label"></label>
                <input asp-for="Participant.CorporationCode" class="form-control"/>
                <span asp-validation-for="Participant.CorporationCode" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Participant.CorporationName" class="control-label"></label>
                <input asp-for="Participant.CorporationName" class="form-control"/>
                <span asp-validation-for="Participant.CorporationName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Participant.CorporationParcitipationsCount" class="control-label"></label>
                <input asp-for="Participant.CorporationParcitipationsCount" class="form-control"/>
                <span asp-validation-for="Participant.CorporationParcitipationsCount" class="text-danger"></span>
            </div>
        </div>
        </div>
        <input type="submit" value="Lisa" class="btn btn-primary" />
    </form>
</div>

<script>
const citizenCheckbox = document.getElementById('citizenCheckbox')
const corporationCheckbox = document.getElementById('corporationCheckbox')


const citizenForm = document.getElementById('citizenForm')
const corporationForm = document.getElementById('corporationForm')

// Hide form on load
corporationForm.style.display = "none";


  citizenCheckbox.addEventListener('change', () => {
    citizenForm.style.display = "block";
    corporationForm.style.display = "none";
  });

  corporationCheckbox.addEventListener('change', () => {
    citizenForm.style.display = "none";
    corporationForm.style.display = "block";
  });



</script>
</body>
</html>